<!DOCTYPE html>
<html >
  <head>
    <title>CoinFlip with Blockchain</title>

    <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css' rel='stylesheet' type='text/css'>
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"></script>
    <script src="./node_modules/web3/dist/web3.min.js"></script>
    <script src="./index.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>

  <body class="container">

    <h1 class="page-header">Coin Flip </h1>

    <div class="row">
      <div id="bet-form">
        <h2 class="sub-header">Place your bet:</h2>
        <form class="form-inline" role="form">
          <div class="form-group">
            <table>
              <tr>
                  <input class="form-control" id="newInfo" placeholder="amount in ether" type="text" required>
                </td>
              </tr>
            </table>
          </div>
          <div>
            <h2 class="sub-header">Choose Heads or Tails</h2>
            <form action="/action_page.php">
              <input type="radio" id="heads" name="coinFlip" value="1" required>
              <label for="heads">Heads</label><br>
              <input type="radio" id="tails" name="coinFlip" value="0" required>
              <label for="tails">Tails</label><br>
              <button id="check" class="btn btn-primary" onclick="playerCommitBet()">Place Bet</button>
            </form>
          </div>
        </form>
      </div>
    </div>


    <div class="row">
      <div>
    <h2>Session will end in <span class="js-timeout">2:00 minutes</span></h2>
          <!-- <button id="js-startTimer" class="btn btn-primary">Start Countdown </button> -->
          <!-- <button id="js-resetTimer"class="btn btn-primary">Stop &amp; Reset</button> -->
    </div>
    </div>


    <h1>Click on coin to flip</h1>
      <div class="row">
        <main role="main" class="col-lg-12 d-flex justify-content-center">
          <div id="coin">
            <div class="side-a"></div>
            <div class="side-b"></div>
          </div>
        </main>
      </div>

      <script>

      var interval;

      function countdown() {
      clearInterval(interval);
      interval = setInterval( function() {
          var timer = $('.js-timeout').html();
          timer = timer.split(':');
          var minutes = timer[0];
          var seconds = timer[1];
          seconds -= 1;
          if (minutes < 0) return;
          else if (seconds < 0 && minutes != 0) {
              minutes -= 1;
              seconds = 59;
          }
          else if (seconds < 10 && length.seconds != 2) seconds = '0' + seconds;

          $('.js-timeout').html(minutes + ':' + seconds);

          if (minutes == 0 && seconds == 0) clearInterval(interval);
      }, 1000);
      }

      $('#js-startTimer').click(function () {
      $('.js-timeout').text("2:00");
      countdown();
      });

      $('#js-resetTimer').click(function () {
      $('.js-timeout').text("2:00");
      clearInterval(interval);
      });

      </script>

  </body>
</html>